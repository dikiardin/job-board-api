erDiagram
	direction TB
	USERS {
		int id PK ""  
		varchar role  ""  
		varchar name  ""  
		varchar email  ""  
		varchar password_hash  ""  
		varchar phone  ""  
		varchar gender  ""  
		date dob  ""  
		text education  ""  
		text address  ""  
		varchar profile_picture  ""  
		boolean is_verified  ""  
		timestamp created_at  ""  
		timestamp updated_at  ""  
	}

	USER_PROVIDERS {
		int id PK ""  
		int user_id FK ""  
		varchar provider  ""  
		varchar provider_id  ""  
		text access_token  ""  
		text refresh_token  ""  
		timestamp created_at  ""  
	}

	COMPANIES {
		int id PK ""  
		varchar name  ""  
		varchar email  ""  
		varchar phone  ""  
		varchar location  ""  
		text description  ""  
		varchar website  ""  
		varchar logo  ""  
		timestamp created_at  ""  
		timestamp updated_at  ""  
	}

	COMPANY_ADMINS {
		int id PK ""  
		int company_id FK ""  
		int user_id FK ""  
		boolean is_verified "" 
		timestamp created_at  ""  
	}

	JOBS {
		int id PK ""  
		int company_id FK ""  
		varchar title  ""  
		text description  ""  
		varchar category  ""  
		varchar city  ""  
		int salary_min  ""  
		int salary_max  ""  
		text[] tags  ""  
		varchar banner  ""  
		date deadline  ""  
		boolean is_published  ""  
		timestamp created_at  ""  
		timestamp updated_at  ""  
	}

	APPLICATIONS {
		int id PK ""  
		int user_id FK ""  
		int job_id FK ""  
		varchar cv_file  ""  
		int expected_salary  ""  
		varchar status  ""  
		text review_note  ""  
		timestamp created_at  ""  
		timestamp updated_at  ""  
	}

	SAVED_JOBS {
		int id PK ""  
		int user_id FK ""  
		int job_id FK ""  
		timestamp created_at  ""  
	}

	INTERVIEWS {
		int id PK ""  
		int application_id FK ""  
		timestamp schedule_date  ""  
		varchar location_or_link  ""  
		varchar status  ""  
		timestamp created_at  ""  
		timestamp updated_at  ""  
	}

	PRESELECTION_TESTS {
		int id PK ""  
		int job_id FK ""  
		timestamp created_at  ""  
	}

	PRESELECTION_QUESTIONS {
		int id PK ""  
		int test_id FK ""  
		text question  ""  
		jsonb options  ""  
		text answer  ""  
	}

	PRESELECTION_RESULTS {
		int id PK ""  
		int user_id FK ""  
		int test_id FK ""  
		int score  ""  
		timestamp created_at  ""  
	}

	SKILL_ASSESSMENTS {
		int id PK ""  
		varchar title  ""  
		text description  ""  
		int created_by FK ""  
		timestamp created_at  ""  
	}

	SKILL_QUESTIONS {
		int id PK ""  
		int assessment_id FK ""  
		text question  ""  
		jsonb options  ""  
		text answer  ""  
	}

	SKILL_RESULTS {
		int id PK ""  
		int user_id FK ""  
		int assessment_id FK ""  
		int score  ""  
		boolean is_passed  ""  
		varchar certificate_url  ""  
		varchar certificate_code  ""  
		timestamp started_at  ""  
		timestamp finished_at  ""  
		timestamp created_at  ""  
	}

	USER_BADGES {
		int id PK ""  
		int user_id FK ""  
		varchar badge_name  ""  
		varchar badge_icon  ""  
		timestamp awarded_at  ""  
	}

	GENERATED_CVS {
		int id PK ""  
		int user_id FK ""  
		varchar file_url  ""  
		varchar template_used  ""  
		jsonb additional_info  ""  
		timestamp created_at  ""  
	}

	SUBSCRIPTIONS {
		int id PK ""  
		int user_id FK ""  
		int subscription_plan_id FK ""  
		date start_date  ""  
		date end_date  ""  
		boolean is_active  ""  
		timestamp created_at  ""  
	}

	PAYMENTS {
		int id PK ""  
		int subscription_id FK ""  
		varchar payment_method  ""  
		varchar payment_proof  ""  
		varchar status  ""  
		decimal amount  ""  
		timestamp approved_at  ""  
		varchar gateway_transaction_id  ""  
		timestamp created_at  ""  
		timestamp expired_at  ""  
	}

	COMPANY_REVIEWS {
		int id PK ""  
		int employment_id FK ""  
		varchar position  ""  
		int salary_estimate  ""  
		int culture_rating  ""  
		int worklife_rating  ""  
		int facility_rating  ""  
		int career_rating  ""  
		text comment  ""  
		timestamp created_at  ""  
	}

	JOB_SHARES {
		int id PK ""  
		int user_id FK ""  
		int job_id FK ""  
		varchar platform  ""  
		varchar shared_url  ""  
		text custom_message  ""  
		timestamp created_at  ""  
	}



	SUBSCRIPTION_PLANS {
		int id PK ""  
		varchar plan_name  ""  
		decimal plan_price  ""  
		text plan_description  ""  
	}

	EMPLOYMENTS {
		int id PK ""  
		int user_id FK ""  
		int company_id FK ""  
		boolean is_verified  ""  
		date start_date  ""  
		date end_date  ""  
		timestamp created_at  ""  
	}



	USERS||--o{USER_PROVIDERS:"has"
	USERS||--o{COMPANY_ADMINS:"admin_of"
	COMPANIES||--o{COMPANY_ADMINS:"has_admin"
	COMPANIES||--o{EMPLOYMENTS:"employs"
	USERS||--o{EMPLOYMENTS:"works_at"
	COMPANIES||--o{JOBS:"posts"
	USERS||--o{APPLICATIONS:"applies"
	JOBS||--o{APPLICATIONS:"receives"
	APPLICATIONS||--o{INTERVIEWS:"schedule"
	JOBS||--o{PRESELECTION_TESTS:"has"
	PRESELECTION_TESTS||--o{PRESELECTION_QUESTIONS:"contains"
	USERS||--o{PRESELECTION_RESULTS:"take"
	PRESELECTION_TESTS||--o{PRESELECTION_RESULTS:"results"
	USERS||--o{SKILL_ASSESSMENTS:"create"
	SKILL_ASSESSMENTS||--o{SKILL_QUESTIONS:"contains"
	USERS||--o{SKILL_RESULTS:"get"
	SKILL_ASSESSMENTS||--o{SKILL_RESULTS:"results"
	USERS||--o{USER_BADGES:"awarded"
	USERS||--o{GENERATED_CVS:"generate"
	USERS||--o{SUBSCRIPTIONS:"subscribe"
	SUBSCRIPTIONS||--o{PAYMENTS:"payments"
	SUBSCRIPTION_PLANS||--o{SUBSCRIPTIONS:"has"

	EMPLOYMENTS||--o{COMPANY_REVIEWS:"reviews"

	USERS||--o{SAVED_JOBS:"save"
	JOBS||--o{SAVED_JOBS:"saved_by"
	USERS||--o{JOB_SHARES:"share"
	JOBS||--o{JOB_SHARES:"shared"
    